<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Test Zone CBT</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }
    .sidebar {
      width: 220px;
      background: #f5f5f5;
      padding: 20px;
      box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    }
    .question-box {
      margin: 5px;
      display: inline-block;
      width: 40px;
      height: 40px;
      line-height: 40px;
      text-align: center;
      border: 2px solid #aaa;
      border-radius: 6px;
      cursor: pointer;
    }
    .active {
      border-color: blue;
    }
    .answered {
      background: #4caf50;
      color: white;
    }

    .main {
      flex: 1;
      padding: 20px;
    }

    .timer {
      text-align: right;
      font-size: 18px;
      color: red;
    }

    .question-container {
      margin-top: 20px;
    }

    .question {
      font-size: 18px;
      margin-bottom: 10px;
    }

    .options label {
      display: block;
      margin-bottom: 10px;
    }

    .submit-btn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
    }
  </style>
</head>
<body>

  <div class="sidebar">
    <h3>Questions</h3>
    <div id="palette"></div>
  </div>

  <div class="main">
    <div class="timer">⏱ Time Left: <span id="time">20:00</span></div>
    <div class="question-container">
      <div id="question" class="question">Loading...</div>
      <div id="options" class="options"></div>
      <button onclick="nextQuestion()" class="submit-btn">Save & Next</button>
    </div>
  </div>

  <script>
    const questions = [
      {
        q: "भारताची राजधानी कोणती आहे?",
        options: ["दिल्ली", "मुंबई", "पुणे", "चेन्नई"],
        answer: "दिल्ली"
      },
      {
        q: "2 + 2 किती होतात?",
        options: ["3", "4", "5", "6"],
        answer: "4"
      },
      {
        q: "सूर्य पूर्वेकडून उगवतो का?",
        options: ["होय", "नाही", "कधी कधी", "नक्की नाही"],
        answer: "होय"
      },
      {
        q: "पृथ्वीवर किती महाद्वीप आहेत?",
        options: ["5", "6", "7", "8"],
        answer: "7"
      },
      {
        q: "पाण्याचा उकळण्याचा बिंदू किती अंश सेल्सिअस आहे?",
        options: ["80", "90", "100", "110"],
        answer: "100"
      },
      {
        q: "कोणता रंग 'थांबा' दर्शवतो?",
        options: ["लाल", "हिरवा", "पिवळा", "निळा"],
        answer: "लाल"
      },
      {
        q: "भारताचा पंतप्रधान कोण आहे?",
        options: ["नरेंद्र मोदी", "राहुल गांधी", "शरद पवार", "मनमोहन सिंग"],
        answer: "नरेंद्र मोदी"
      },
      {
        q: "ATM चा फुलफॉर्म काय आहे?",
        options: ["Any Time Money", "Automated Teller Machine", "All Time Machine", "Auto Teller Money"],
        answer: "Automated Teller Machine"
      },
      {
        q: "UNICEF चे मुख्यालय कुठे आहे?",
        options: ["लंडन", "न्यू यॉर्क", "जिनेव्हा", "पॅरिस"],
        answer: "न्यू यॉर्क"
      },
      {
        q: "ताज महाल कुठे आहे?",
        options: ["आग्रा", "दिल्ली", "जयपूर", "मुंबई"],
        answer: "आग्रा"
      }
    ];

    let current = 0;
    let answers = [];

    function loadQuestion(index) {
      const q = questions[index];
      document.getElementById("question").innerText = `Q${index+1}: ${q.q}`;
      const opts = q.options.map(opt => `
        <label>
          <input type="radio" name="opt" value="${opt}" onclick="markAnswered(${index})" />
          ${opt}
        </label>
      `).join('');
      document.getElementById("options").innerHTML = opts;

      document.querySelectorAll(".question-box").forEach(el => el.classList.remove("active"));
      document.getElementById("q" + index).classList.add("active");
    }

    function buildPalette() {
      let html = "";
      for (let i = 0; i < questions.length; i++) {
        html += `<div class="question-box" id="q${i}" onclick="jumpTo(${i})">${i + 1}</div>`;
      }
      document.getElementById("palette").innerHTML = html;
    }

    function markAnswered(index) {
      document.getElementById("q" + index).classList.add("answered");
      const selected = document.querySelector('input[name="opt"]:checked');
      if (selected) answers[index] = selected.value;
    }

    function nextQuestion() {
      if (current < questions.length - 1) {
        current++;
        loadQuestion(current);
      } else {
        alert("You have reached the end of the test.");
      }
    }

    function jumpTo(index) {
      current = index;
      loadQuestion(index);
    }

    function startTimer(duration) {
      let timer = duration, minutes, seconds;
      const display = document.getElementById("time");
      const interval = setInterval(() => {
        minutes = parseInt(timer / 60, 10);
        seconds = parseInt(timer % 60, 10);
        display.textContent = `${minutes}:${seconds < 10 ? "0" : ""}${seconds}`;
        if (--timer < 0) {
          clearInterval(interval);
          alert("⏰ Time up! Submitting your test.");
          // Score calculation here
        }
      }, 1000);
    }

    window.onload = function() {
      buildPalette();
      loadQuestion(current);
      startTimer(20 * 60); // 20 minutes
    };
  </script>
</body>
</html>
